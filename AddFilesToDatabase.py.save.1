import os
from os.path import isfile
from datetime import datetime
import random
import shutil
import xml.etree.ElementTree as ET
import time

PATH_OF_DATABASE = ""

def all_files():
    all_files_and_dirs = os.listdir(PATH_OF_DATABASE)
    no_dirs = []
    for f in all_files_and_dirs:
        if isfile(f):
            no_dirs.append(f)
    return no_dirs

def move__file(file):
    shutil.move(file, PATH_OF_DATABASE + file)

def add_file_to_database():
    piTree = ET.parse("Database\\PiFileData.xml"
)
    root = tree.getroot()
    new_element = ET.Element("file", {'date': str(datetime.now()), 'name': file_new_name, 'type': file_type})
    root.append(new_element)
    tree.write("C:\\Users\\Jamie\\Desktop\\Gifs\\Database\\FileData.xml", xml_declaration=True)

def handle_all_files():
    files = all_files()
    for file in files:
        move_file(file)
	add_file_to_database()
            
def main():
    for i in range(0, 360):
        try:
            handle_all_files()
            time.sleep(10)
        except:
            time.sleep(10)
        
main()
